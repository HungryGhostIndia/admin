<IfModule mod_rewrite.c>

	RewriteEngine on

	# If we receive a forwarded http request from a proxy...
	RewriteCond %{HTTP:X-Forwarded-Proto} =http [OR]

	# ...or just a plain old http request directly from the client
	RewriteCond %{HTTP:X-Forwarded-Proto} =""
	RewriteCond %{HTTPS} !=on

	# Redirect to https version
	RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

	RewriteBase /
	RewriteRule ^index\.html$ - [L]
	RewriteCond %{REQUEST_FILENAME} !-f
	RewriteCond %{REQUEST_FILENAME} !-d
	RewriteRule . /index.html [L]

	# Add custom headers
	Header add Strict-Transport-Security "max-age=157680000"
	Header add X-Frame-Options DENY
	Header set X-XSS-Protection "1; mode=block" 

</IfModule>